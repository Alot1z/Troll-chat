name: ðŸ”¥ Remove Broken Submodule (llama)

on:
  workflow_dispatch:

jobs:
  cleanup:
    runs-on: ubuntu-latest
    permissions:
      contents: write

    steps:
      - name: ðŸ“¥ Checkout repository
        uses: actions/checkout@v4

      - name: ðŸ§¹ Remove .gitmodules and submodule tracking
        run: |
          rm -f .gitmodules
          git rm --cached llama || true
          rm -rf llama || true

      - name: ðŸ§¾ Set Git identity
        run: |
          git config --global user.name "TrollChat Cleaner Bot"
          git config --global user.email "trollchat-cleaner@users.noreply.github.com"

      - name: ðŸ’¾ Commit cleanup
        run: |
          git add -A
          git commit -m "ðŸ”¥ Remove broken llama submodule"
          git push origin main
